{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ArticlesService {\n  constructor(http) {\n    this.http = http;\n    this.articles = [];\n    this.articlesUpdated = new Subject();\n  }\n  getArticles() {\n    this.http.get('http://localhost:3000/api/articles').subscribe(articleData => {\n      this.articles = articleData.articles;\n      this.articlesUpdated.next([...this.articles]);\n    });\n  }\n  getArticleUpdateListener() {\n    return this.articlesUpdated.asObservable();\n  }\n  addArticle(title, subtitle, content, image, author) {\n    const article = {\n      title,\n      subtitle,\n      content,\n      image,\n      author,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n    this.http.post('http://localhost:3000/api/articles', article).subscribe(responseData => {\n      console.log(responseData.message);\n    });\n    this.articles.push(article);\n    this.articlesUpdated.next([...this.articles]);\n  }\n}\nArticlesService.ɵfac = function ArticlesService_Factory(t) {\n  return new (t || ArticlesService)(i0.ɵɵinject(i1.HttpClient));\n};\nArticlesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ArticlesService,\n  factory: ArticlesService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["Subject","ArticlesService","constructor","http","articles","articlesUpdated","getArticles","get","subscribe","articleData","next","getArticleUpdateListener","asObservable","addArticle","title","subtitle","content","image","author","article","createdAt","Date","updatedAt","post","responseData","console","log","message","push","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\dev\\news-project\\src\\app\\articles\\articles.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Article } from './article.model';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ArticlesService {\r\n  private articles: Article[] = [];\r\n\r\n  private articlesUpdated = new Subject<Article[]>();\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getArticles() {\r\n    this.http\r\n      .get<{ message: string; articles: Article[] }>(\r\n        'http://localhost:3000/api/articles'\r\n      )\r\n      .subscribe((articleData) => {\r\n        this.articles = articleData.articles;\r\n        this.articlesUpdated.next([...this.articles]);\r\n      });\r\n  }\r\n\r\n  getArticleUpdateListener() {\r\n    return this.articlesUpdated.asObservable();\r\n  }\r\n\r\n  addArticle(\r\n    title: string,\r\n    subtitle: string,\r\n    content: string,\r\n    image: string,\r\n    author: string\r\n  ) {\r\n    const article: Article = {\r\n      title,\r\n      subtitle,\r\n      content,\r\n      image,\r\n      author,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    this.http\r\n      .post<{ message: string }>('http://localhost:3000/api/articles', article)\r\n      .subscribe((responseData) => {\r\n        console.log(responseData.message);\r\n      });\r\n\r\n    this.articles.push(article);\r\n\r\n    this.articlesUpdated.next([...this.articles]);\r\n  }\r\n}\r\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,MAAM;;;AAK9B,OAAM,MAAOC,eAAe;EAK1BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAJhB,KAAAC,QAAQ,GAAc,EAAE;IAExB,KAAAC,eAAe,GAAG,IAAIL,OAAO,EAAa;EAEX;EAEvCM,WAAWA,CAAA;IACT,IAAI,CAACH,IAAI,CACNI,GAAG,CACF,oCAAoC,CACrC,CACAC,SAAS,CAAEC,WAAW,IAAI;MACzB,IAAI,CAACL,QAAQ,GAAGK,WAAW,CAACL,QAAQ;MACpC,IAAI,CAACC,eAAe,CAACK,IAAI,CAAC,CAAC,GAAG,IAAI,CAACN,QAAQ,CAAC,CAAC;IAC/C,CAAC,CAAC;EACN;EAEAO,wBAAwBA,CAAA;IACtB,OAAO,IAAI,CAACN,eAAe,CAACO,YAAY,EAAE;EAC5C;EAEAC,UAAUA,CACRC,KAAa,EACbC,QAAgB,EAChBC,OAAe,EACfC,KAAa,EACbC,MAAc;IAEd,MAAMC,OAAO,GAAY;MACvBL,KAAK;MACLC,QAAQ;MACRC,OAAO;MACPC,KAAK;MACLC,MAAM;MACNE,SAAS,EAAE,IAAIC,IAAI,EAAE;MACrBC,SAAS,EAAE,IAAID,IAAI;KACpB;IAED,IAAI,CAAClB,IAAI,CACNoB,IAAI,CAAsB,oCAAoC,EAAEJ,OAAO,CAAC,CACxEX,SAAS,CAAEgB,YAAY,IAAI;MAC1BC,OAAO,CAACC,GAAG,CAACF,YAAY,CAACG,OAAO,CAAC;IACnC,CAAC,CAAC;IAEJ,IAAI,CAACvB,QAAQ,CAACwB,IAAI,CAACT,OAAO,CAAC;IAE3B,IAAI,CAACd,eAAe,CAACK,IAAI,CAAC,CAAC,GAAG,IAAI,CAACN,QAAQ,CAAC,CAAC;EAC/C;;AAhDWH,eAAe,C;mBAAfA,eAAe,EAAA4B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAf/B,eAAe,C;SAAfA,eAAe;EAAAgC,OAAA,EAAfhC,eAAe,CAAAiC,IAAA;EAAAC,UAAA,EADF;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}